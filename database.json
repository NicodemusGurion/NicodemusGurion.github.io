---
layout: null
permalink: /database.json
---
{% assign word_counts = {} %}
{{ site.posts | inspect }}
{% for post in site.posts %}
{{ post.content | inspect }}

  {% assign words = post.content | split: ' ' %}
  
  {% for word in words %}
    {% assign word = word | strip %}
    
    {% unless word == '' %}
      {% capture post_url %}{{ post.url }}{% endcapture %}
      
      {% if word_counts[word] == null %}
        {% assign word_counts[word] = {} %}
      {% endif %}
      
      {% if word_counts[word][post_url] == null %}
        {% assign word_counts[word][post_url] = 1 %}
      {% else %}
        {% assign word_counts[word][post_url] = word_counts[word][post_url] | plus: 1 %}
      {% endif %}
    {% endunless %}
  {% endfor %}
{% endfor %}

{% unless word_counts == null %}
  {% for word in word_counts %}
    {{ word }}: {{ word_counts[word] }}
  {% endfor %}
{% endunless %}

{{ word_counts | jsonify }}
